// Copyright 2018-2022 the Deno authors. All rights reserved. MIT license.
import { fromFileUrl } from "../path.ts";
export function truncate(path, lenOrCallback, maybeCallback) {
    path = path instanceof URL ? fromFileUrl(path) : path;
    const len = typeof lenOrCallback === "number" ? lenOrCallback : undefined;
    const callback = typeof lenOrCallback === "function" ? lenOrCallback : maybeCallback;
    if (!callback) throw new Error("No callback function supplied");
    Deno.truncate(path, len).then(()=>callback(null), callback);
}
export function truncateSync(path, len) {
    path = path instanceof URL ? fromFileUrl(path) : path;
    Deno.truncateSync(path, len);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjEzMi4wL25vZGUvX2ZzL19mc190cnVuY2F0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIyIHRoZSBEZW5vIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIE1JVCBsaWNlbnNlLlxuaW1wb3J0IHsgQ2FsbGJhY2tXaXRoRXJyb3IgfSBmcm9tIFwiLi9fZnNfY29tbW9uLnRzXCI7XG5pbXBvcnQgeyBmcm9tRmlsZVVybCB9IGZyb20gXCIuLi9wYXRoLnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB0cnVuY2F0ZShcbiAgcGF0aDogc3RyaW5nIHwgVVJMLFxuICBsZW5PckNhbGxiYWNrOiBudW1iZXIgfCBDYWxsYmFja1dpdGhFcnJvcixcbiAgbWF5YmVDYWxsYmFjaz86IENhbGxiYWNrV2l0aEVycm9yLFxuKSB7XG4gIHBhdGggPSBwYXRoIGluc3RhbmNlb2YgVVJMID8gZnJvbUZpbGVVcmwocGF0aCkgOiBwYXRoO1xuICBjb25zdCBsZW46IG51bWJlciB8IHVuZGVmaW5lZCA9IHR5cGVvZiBsZW5PckNhbGxiYWNrID09PSBcIm51bWJlclwiXG4gICAgPyBsZW5PckNhbGxiYWNrXG4gICAgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGNhbGxiYWNrOiBDYWxsYmFja1dpdGhFcnJvciA9IHR5cGVvZiBsZW5PckNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCJcbiAgICA/IGxlbk9yQ2FsbGJhY2tcbiAgICA6IG1heWJlQ2FsbGJhY2sgYXMgQ2FsbGJhY2tXaXRoRXJyb3I7XG5cbiAgaWYgKCFjYWxsYmFjaykgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2FsbGJhY2sgZnVuY3Rpb24gc3VwcGxpZWRcIik7XG5cbiAgRGVuby50cnVuY2F0ZShwYXRoLCBsZW4pLnRoZW4oKCkgPT4gY2FsbGJhY2sobnVsbCksIGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRydW5jYXRlU3luYyhwYXRoOiBzdHJpbmcgfCBVUkwsIGxlbj86IG51bWJlcikge1xuICBwYXRoID0gcGF0aCBpbnN0YW5jZW9mIFVSTCA/IGZyb21GaWxlVXJsKHBhdGgpIDogcGF0aDtcblxuICBEZW5vLnRydW5jYXRlU3luYyhwYXRoLCBsZW4pO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDBFQUEwRTtBQUUxRSxTQUFTLFdBQVcsUUFBUSxhQUFhO0FBRXpDLE9BQU8sU0FBUyxTQUNkLElBQWtCLEVBQ2xCLGFBQXlDLEVBQ3pDLGFBQWlDLEVBQ2pDO0lBQ0EsT0FBTyxnQkFBZ0IsTUFBTSxZQUFZLFFBQVEsSUFBSTtJQUNyRCxNQUFNLE1BQTBCLE9BQU8sa0JBQWtCLFdBQ3JELGdCQUNBLFNBQVM7SUFDYixNQUFNLFdBQThCLE9BQU8sa0JBQWtCLGFBQ3pELGdCQUNBLGFBQWtDO0lBRXRDLElBQUksQ0FBQyxVQUFVLE1BQU0sSUFBSSxNQUFNLGlDQUFpQztJQUVoRSxLQUFLLFFBQVEsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLElBQU0sU0FBUyxJQUFJLEdBQUc7QUFDdEQsQ0FBQztBQUVELE9BQU8sU0FBUyxhQUFhLElBQWtCLEVBQUUsR0FBWSxFQUFFO0lBQzdELE9BQU8sZ0JBQWdCLE1BQU0sWUFBWSxRQUFRLElBQUk7SUFFckQsS0FBSyxZQUFZLENBQUMsTUFBTTtBQUMxQixDQUFDIn0=